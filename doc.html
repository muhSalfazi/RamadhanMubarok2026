<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <title>API Muslim v3 - Dokumentasi API</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Dokumentasi lengkap API Muslim v3 - Jadwal Sholat, Kalender Hijriah, Arah Kiblat, dan Tools lainnya"
    />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        color-scheme: light;
        /* Modern Blue/Indigo Theme */
        --primary: #4f46e5;
        --primary-hover: #4338ca;
        --primary-light: #818cf8;
        --primary-dark: #3730a3;

        /* Header - Compact and Sticky */
        --header-bg: #1e1b4b;
        --header-text: #ffffff;

        /* Sidebar - Dark Blue */
        --sidebar-bg: #1e293b;
        --sidebar-text: #cbd5e1;
        --sidebar-active: #ffffff;

        /* Main Content - Light for readability */
        --content-bg: #ffffff;
        --content-text: #0f172a;

        /* Right Panel - Dark */
        --code-bg: #0f172a;
        --code-text: #e2e8f0;

        /* Shadows */
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family:
          "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: var(--content-bg) url("/doc/bg.jpg") center center / cover
          no-repeat fixed;
        color: var(--content-text);
        line-height: 1.6;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      /* Sticky Header - Compact Design */
      .doc-header {
        position: sticky;
        top: 0;
        z-index: 100;
        background: linear-gradient(135deg, #37b597 0%, #004232 100%);
        /* color: var(--header-text); */
        color: #ffea77;
        padding: 16px 24px;
        box-shadow: var(--shadow-lg);
        border-bottom: 2px solid rgba(0, 210, 112, 0.3);
      }

      .doc-header-content {
        max-width: 1400px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 24px;
        flex-wrap: wrap;
      }

      .doc-brand {
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .doc-logo {
        width: 56px;
        height: 56px;
        border-radius: 14px;
        background: rgba(255, 255, 255, 0.12);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 6px;
        box-shadow: var(--shadow-sm);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .doc-logo img {
        max-width: 100%;
        height: auto;
        display: block;
      }

      .doc-brand h1 {
        font-size: 1.5rem;
        font-weight: 700;
        letter-spacing: -0.025em;
        margin: 0;
        background: linear-gradient(135deg, #ffffff 0%, #c7d2fe 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .doc-brand .version {
        font-size: 0.75rem;
        background: rgba(2, 2, 2, 0.3);
        padding: 4px 10px;
        border-radius: 12px;
        font-weight: 600;
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      /* Navigation - Horizontal Compact */
      .doc-nav {
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .doc-nav a {
        color: rgba(255, 255, 255, 0.9);
        background: rgba(255, 255, 255, 0.1);
        padding: 8px 16px;
        border-radius: 6px;
        font-weight: 500;
        font-size: 0.875rem;
        text-decoration: none;
        border: 1px solid rgba(255, 255, 255, 0.15);
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(10px);
      }

      .doc-nav a:hover {
        background: rgba(255, 255, 255, 0.2);
        border-color: rgba(255, 255, 255, 0.3);
        transform: translateY(-1px);
        box-shadow: var(--shadow-sm);
      }

      .search-btn {
        background: var(--primary) !important;
        color: white !important;
        border: none !important;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
        font-family: "Inter", sans-serif;
      }

      .search-btn:hover {
        background: var(--primary-hover) !important;
      }

      /* Contact Info */
      .doc-contact {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 0.875rem;
        color: rgba(255, 255, 255, 0.9);
        background: rgba(255, 255, 255, 0.1);
        padding: 6px 14px;
        border-radius: 6px;
        border: 1px solid rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(10px);
      }

      .doc-contact a {
        color: rgba(255, 255, 255, 0.95);
        text-decoration: none;
        font-weight: 500;
        transition: color 0.2s ease;
      }

      .doc-contact a:hover {
        color: #ffffff;
        text-decoration: underline;
      }

      /* Redoc Container - No gaps */
      #redoc-container {
        width: 100%;
        min-height: calc(100vh - 70px);
      }

      redoc {
        width: 100%;
        display: block;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .doc-header {
          padding: 12px 16px;
        }

        .doc-header-content {
          gap: 12px;
        }

        .doc-brand h1 {
          font-size: 1.25rem;
        }

        .doc-brand .version {
          font-size: 0.7rem;
          padding: 3px 8px;
        }

        .doc-nav {
          width: 100%;
          justify-content: flex-start;
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;
        }

        .doc-nav a {
          white-space: nowrap;
          font-size: 0.8rem;
          padding: 6px 12px;
        }

        .doc-contact {
          font-size: 0.75rem;
          padding: 5px 10px;
        }
      }
    </style>
  </head>
  <body>
    <header class="doc-header">
      <div class="doc-header-content">
        <div class="doc-brand">
          <div class="doc-logo">
            <img data-doc-asset="api-myquran.png" alt="Logo myQuran" />
          </div>
          <div>
            <h1>API Muslim Indonesia</h1>
            <span class="version">Dokumentasi API v3</span>
          </div>
        </div>
        <nav class="doc-nav" aria-label="Navigasi kategori API">
          <a
            href="#tag/Sholat"
            data-tag-link="Sholat"
            title="Lihat dokumentasi API Jadwal Sholat"
          >üïå Sholat</a>
          <a
            href="#tag/Quran"
            data-tag-link="Quran"
            title="Lihat dokumentasi API Al-Quran"
          >üìñ Quran</a>
          <a
            href="#tag/Hadis"
            data-tag-link="Hadis"
            title="Lihat dokumentasi API Ensiklopedia Hadis"
          >üìö Hadis</a>
          <a
            href="#tag/Kalender"
            data-tag-link="Kalender"
            title="Lihat dokumentasi API Kalender Hijriah"
          >üìÖ Kalender</a>
          <a
            href="#tag/Qibla"
            data-tag-link="Qibla"
            title="Lihat dokumentasi API Arah Kiblat"
          >üß≠ Qibla</a>
          <a
            href="#tag/Tools"
            data-tag-link="Tools"
            title="Lihat dokumentasi API Tools"
          >üõ†Ô∏è Tools</a>
        </nav>
      </div>
    </header>
    <div id="redoc-container"></div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const container = document.getElementById("redoc-container");

        const docBasePath = (() => {
          const { pathname } = window.location;
          if (pathname.endsWith("/")) {
            return pathname;
          }
          if (pathname.includes(".")) {
            return pathname.replace(/[^/]+$/, "");
          }
          return `${pathname}/`;
        })();
        const docBaseUrl = new URL(
          docBasePath,
          window.location.origin,
        ).toString();
        const buildDocUrl = (relativePath) =>
          new URL(relativePath.replace(/^\/+/, ""), docBaseUrl)
            .toString();

        document.querySelectorAll("[data-doc-asset]").forEach(
          (element) => {
            const assetName = element.getAttribute("data-doc-asset");
            if (assetName) {
              element.setAttribute("src", buildDocUrl(assetName));
            }
          },
        );

        const loadRedocScript = () =>
          new Promise((resolve, reject) => {
            const script = document.createElement("script");
            script.src =
              "https://cdn.redoc.ly/redoc/latest/bundles/redoc.standalone.js";
            script.onload = resolve;
            script.onerror = reject;
            document.head.appendChild(script);
          });

        // Fungsi untuk fokus ke kolom pencarian
        const focusRedocSearch = () => {
          const searchInput = document.querySelector(
            "redoc .search-input input",
          );
          if (searchInput) {
            searchInput.focus();
          }
        };

        // Fungsi untuk menghubungkan link navigasi dengan tag
        const hookTagLinks = () => {
          document.querySelectorAll("[data-tag-link]").forEach(
            (link) => {
              link.addEventListener("click", (event) => {
                event.preventDefault();
                const tagName = link.getAttribute("data-tag-link");
                if (tagName) {
                  window.location.hash = "tag/" +
                    encodeURIComponent(tagName);
                  setTimeout(() => {
                    const headerHeight =
                      document.querySelector(".doc-header")
                        .offsetHeight;
                    window.scrollBy(0, -headerHeight - 10);
                  }, 100);
                }
              });
            },
          );
        };

        // Event listener untuk tombol cari
        const searchButton = document.getElementById("doc-search");
        if (searchButton) {
          searchButton.addEventListener("click", (event) => {
            event.preventDefault();
            focusRedocSearch();
          });
        }

        // Keyboard shortcut untuk pencarian (Ctrl+/ atau Cmd+/)
        document.addEventListener("keydown", (event) => {
          if ((event.ctrlKey || event.metaKey) && event.key === "/") {
            event.preventDefault();
            focusRedocSearch();
          }
        });

        hookTagLinks();

        const initializeRedoc = () => {
          if (!window.Redoc) {
            container.innerText =
              "Maaf, library dokumentasi tidak tersedia. Silakan hubungi administrator.";
            return Promise.resolve();
          }
          return Redoc.init(
            buildDocUrl("apimuslim"),
            {
              scrollYOffset: 70,
              hideDownloadButton: false,
              expandResponses: "200,201",
              jsonSampleExpandLevel: 2,
              theme: {
                spacing: {
                  unit: 5,
                  sectionHorizontal: 40,
                  sectionVertical: 40,
                },
                breakpoints: {
                  small: "50rem",
                  medium: "85rem",
                  large: "105rem",
                },
                colors: {
                  tonalOffset: 0.3,
                  primary: {
                    main: "#4f46e5",
                    light: "#818cf8",
                    dark: "#3730a3",
                    contrastText: "#ffffff",
                  },
                  success: {
                    main: "#10b981",
                    light: "#6ee7b7",
                    dark: "#047857",
                    contrastText: "#ffffff",
                  },
                  warning: {
                    main: "#f59e0b",
                    light: "#fbbf24",
                    dark: "#d97706",
                    contrastText: "#ffffff",
                  },
                  error: {
                    main: "#ef4444",
                    light: "#f87171",
                    dark: "#dc2626",
                    contrastText: "#ffffff",
                  },
                  text: {
                    primary: "#0f172a",
                    secondary: "#475569",
                  },
                  border: {
                    dark: "#cbd5e1",
                    light: "#e2e8f0",
                  },
                  responses: {
                    success: {
                      color: "#10b981",
                      backgroundColor: "#d1fae5",
                    },
                    error: {
                      color: "#ef4444",
                      backgroundColor: "#fee2e2",
                    },
                    redirect: {
                      color: "#3b82f6",
                      backgroundColor: "#dbeafe",
                    },
                    info: {
                      color: "#0ea5e9",
                      backgroundColor: "#e0f2fe",
                    },
                  },
                  http: {
                    get: "#10b981",
                    post: "#3b82f6",
                    put: "#f59e0b",
                    options: "#8b5cf6",
                    patch: "#ec4899",
                    delete: "#ef4444",
                    basic: "#64748b",
                    link: "#06b6d4",
                    head: "#6366f1",
                  },
                },
                sidebar: {
                  backgroundColor: "#1e293b",
                  textColor: "#cbd5e1",
                  activeTextColor: "#ffffff",
                  groupItems: {
                    activeBackgroundColor: "rgba(79, 70, 229, 0.15)",
                    activeTextColor: "#ffffff",
                    textTransform: "none",
                  },
                  level1Items: {
                    activeBackgroundColor: "rgba(79, 70, 229, 0.2)",
                    activeTextColor: "#ffffff",
                    textTransform: "none",
                  },
                  arrow: {
                    size: "1.2em",
                    color: "#94a3b8",
                  },
                },
                typography: {
                  fontSize: "16px",
                  lineHeight: "1.7",
                  fontWeightRegular: "400",
                  fontWeightBold: "600",
                  fontWeightLight: "300",
                  fontFamily:
                    '"Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',
                  smoothing: "antialiased",
                  optimizeSpeed: false,
                  headings: {
                    fontFamily:
                      '"Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',
                    fontWeight: "700",
                    lineHeight: "1.4",
                  },
                  code: {
                    fontSize: "14px",
                    fontFamily:
                      '"Fira Code", "Consolas", "Monaco", monospace',
                    lineHeight: "1.6",
                    fontWeight: "400",
                    color: "#0f172a",
                    backgroundColor: "#f1f5f9",
                    wrap: false,
                  },
                  links: {
                    color: "#4f46e5",
                    visited: "#4f46e5",
                    hover: "#4338ca",
                    textDecoration: "none",
                    hoverTextDecoration: "underline",
                  },
                },
                rightPanel: {
                  backgroundColor: "#0f172a",
                  width: "40%",
                  textColor: "#e2e8f0",
                },
                codeBlock: {
                  backgroundColor: "#1e293b",
                },
              },
            },
            container,
          )
            .then(() => {
              console.log("Dokumentasi API berhasil dimuat");
            })
            .catch((error) => {
              console.error("Gagal memuat dokumentasi:", error);
              document.getElementById("redoc-container").innerText =
                "Maaf, dokumentasi gagal dimuat. Silakan refresh halaman atau hubungi administrator.";
            });
        };

        loadRedocScript()
          .then(() => initializeRedoc())
          .catch((error) => {
            console.error("Gagal memuat library dokumentasi:", error);
            container.innerText =
              "Maaf, library dokumentasi tidak tersedia. Silakan hubungi administrator.";
          });
      });
    </script>
  </body>
</html>
